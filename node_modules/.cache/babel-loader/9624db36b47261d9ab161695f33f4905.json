{"ast":null,"code":"var _jsxFileName = \"/Users/xavier/Documents/De\\u0301veloppement/portarch/src/components/panneau.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport './css/panneau.css';\nimport Cachet from './cachet';\nimport Album from './album';\nimport Resume from './resume';\nimport Auteur from './auteur';\n\nconst Panneau = ({\n  refresh,\n  setRefresh,\n  auth,\n  id,\n  titre,\n  auteurID,\n  auteur,\n  photoAuteur,\n  photo,\n  mesFavoris\n}) => {\n  const [portraitWidth, setPortraitWidth] = useState('100vh');\n  const [enableSwipeListener, setEnableSwipeListener] = useState(false);\n  const [enablePhotos, setEnablePhotos] = useState(false);\n  const [enableAuteur, setEnableAuteur] = useState(false);\n  const [isFavori, setIsFavori] = useState(false);\n  useEffect(() => {\n    var _document$getElementB;\n\n    document.getElementsByClassName('container')[0].classList.remove('cache');\n\n    if (!((_document$getElementB = document.getElementById(id)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.classList.contains('cache'))) {\n      setEnableSwipeListener(true);\n    }\n  }, [id]);\n  useEffect(() => {\n    setIsFavori(false);\n    mesFavoris.forEach(favori => {\n      if (favori.favori === id) {\n        setIsFavori(true);\n      }\n    });\n\n    if (window.innerWidth <= 600) {\n      setPortraitWidth(window.innerWidth + 'px');\n      document.getElementsByClassName('panneauContainer')[0].addEventListener('scroll', function () {\n        var _document$getElementB2;\n\n        const scrollPosition = (_document$getElementB2 = document.getElementById(id)) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.getBoundingClientRect().top;\n\n        if (scrollPosition > 0 && scrollPosition < 300) {\n          var _document$getElementB3;\n\n          (_document$getElementB3 = document.getElementById(id)) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.classList.remove('cache');\n          setEnableSwipeListener(true);\n        } else {\n          var _document$getElementB4;\n\n          (_document$getElementB4 = document.getElementById(id)) === null || _document$getElementB4 === void 0 ? void 0 : _document$getElementB4.classList.add('cache');\n          setEnableSwipeListener(false);\n        }\n      });\n\n      if (enableSwipeListener) {\n        var _document$getElementB5;\n\n        (_document$getElementB5 = document.getElementById(id)) === null || _document$getElementB5 === void 0 ? void 0 : _document$getElementB5.addEventListener('scroll', function () {\n          var _document$getElementB6;\n\n          const swipePositionAuteur = (_document$getElementB6 = document.getElementById(id + \"Auteur\")) === null || _document$getElementB6 === void 0 ? void 0 : _document$getElementB6.getBoundingClientRect().left;\n\n          if (swipePositionAuteur < 10) {\n            setEnableAuteur(true);\n          }\n        });\n      }\n    }\n  }, [id, enableSwipeListener, mesFavoris]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container cache\",\n    id: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panneauFront\",\n    style: {\n      backgroundImage: `url(${photo})`,\n      height: `${portraitWidth}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Cachet, {\n    refresh: refresh,\n    setRefresh: setRefresh,\n    auth: auth,\n    id: id,\n    titre: titre,\n    auteur: auteur,\n    photoAuteur: photoAuteur,\n    isFavori: isFavori,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panneauBack\",\n    style: {\n      height: `${portraitWidth}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Album, {\n    id: id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Resume, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panneauAuteur\",\n    id: id + \"Auteur\",\n    style: {\n      height: `${portraitWidth}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Auteur, {\n    enableAuteur: enableAuteur,\n    auteurID: auteurID,\n    auteur: auteur,\n    photoAuteur: photoAuteur,\n    portraitWidth: portraitWidth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default Panneau;","map":{"version":3,"sources":["/Users/xavier/Documents/Développement/portarch/src/components/panneau.tsx"],"names":["React","useState","useEffect","Cachet","Album","Resume","Auteur","Panneau","refresh","setRefresh","auth","id","titre","auteurID","auteur","photoAuteur","photo","mesFavoris","portraitWidth","setPortraitWidth","enableSwipeListener","setEnableSwipeListener","enablePhotos","setEnablePhotos","enableAuteur","setEnableAuteur","isFavori","setIsFavori","document","getElementsByClassName","classList","remove","getElementById","contains","forEach","favori","window","innerWidth","addEventListener","scrollPosition","getBoundingClientRect","top","add","swipePositionAuteur","left","backgroundImage","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './css/panneau.css';\nimport Cachet from './cachet';\nimport Album from './album';\nimport Resume from './resume';\nimport Auteur from './auteur';\n\ntype Props = {\n    refresh: boolean,\n    setRefresh: any,\n    auth: boolean,\n    id: string,\n    titre: string,\n    auteurID: string,\n    auteur: string,\n    photoAuteur: string,\n    photo: string,\n    mesFavoris?: any\n}\n\nconst Panneau: React.FC<Props> = ({ refresh, setRefresh, auth, id, titre, auteurID, auteur, photoAuteur, photo, mesFavoris }) => {\n\n    const [portraitWidth, setPortraitWidth] = useState<string>('100vh');\n    const [enableSwipeListener, setEnableSwipeListener] = useState<boolean>(false);\n    const [enablePhotos, setEnablePhotos] = useState<boolean>(false);\n    const [enableAuteur, setEnableAuteur] = useState<boolean>(false);\n    const [isFavori, setIsFavori] = useState<boolean>(false);\n\n    useEffect(() => {\n        document.getElementsByClassName('container')[0].classList.remove('cache');\n        if(!document.getElementById(id)?.classList.contains('cache')) {setEnableSwipeListener(true)}\n    }, [id]);\n\n    useEffect(() => {\n        setIsFavori(false);\n        \n        mesFavoris.forEach((favori: any) => {\n            if(favori.favori === id) {\n                setIsFavori(true);\n            }\n        });\n\n        if(window.innerWidth <= 600) {\n            setPortraitWidth(window.innerWidth + 'px');\n\n            document.getElementsByClassName('panneauContainer')[0].addEventListener('scroll', function() {\n                const scrollPosition = document.getElementById(id)?.getBoundingClientRect().top as Number;\n                if(scrollPosition > 0 && scrollPosition < 300) {\n                    document.getElementById(id)?.classList.remove('cache');\n                    setEnableSwipeListener(true);\n                } else {\n                    document.getElementById(id)?.classList.add('cache');\n                    setEnableSwipeListener(false);\n                }\n            });\n\n            if(enableSwipeListener) {\n                document.getElementById(id)?.addEventListener('scroll', function() {\n                    const swipePositionAuteur = document.getElementById(id + \"Auteur\")?.getBoundingClientRect().left as Number;\n                    \n                    if(swipePositionAuteur < 10) {\n                        setEnableAuteur(true);\n                    }\n                });\n            }\n        }\n    }, [id, enableSwipeListener, mesFavoris]);\n\n    return (\n        <div className=\"container cache\" id={id}>\n            <div className=\"panneauFront\" style={{backgroundImage: `url(${photo})`, height: `${portraitWidth}`}}>\n                <Cachet \n                    refresh={refresh} \n                    setRefresh={setRefresh} \n                    auth={auth} \n                    id={id} \n                    titre={titre} \n                    auteur={auteur} \n                    photoAuteur={photoAuteur} \n                    isFavori={isFavori} \n                />\n            </div>\n            <div className=\"panneauBack\" style={{height: `${portraitWidth}`}}>\n                <Album id={id} />\n                <Resume />\n            </div>\n            <div className=\"panneauAuteur\" id={id + \"Auteur\"} style={{height: `${portraitWidth}`}}>\n                <Auteur enableAuteur={enableAuteur} auteurID={auteurID} auteur={auteur} photoAuteur={photoAuteur} portraitWidth={portraitWidth} />\n            </div>\n        </div>\n    );\n}\n\nexport default Panneau;"]},"metadata":{},"sourceType":"module"}