{"ast":null,"code":"var _jsxFileName = \"/Users/xavier/Documents/De\\u0301veloppement/portarch/src/components/recherche.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport Tendance from './tendance';\nimport firebase from '../firebase';\n\nfunction UseTendances() {\n  const [œuvres, setœuvres] = useState([]);\n  useEffect(() => {\n    firebase.firestore().collection('œuvres').orderBy('note', 'desc').limit(6).onSnapshot(snapshot => {\n      let position = 1;\n      const newœuvres = snapshot.docs.map(doc => ({\n        id: doc.id,\n        position: position++,\n        ...doc.data(),\n        photos: []\n      }));\n      setœuvres(newœuvres);\n    });\n  }, []);\n  return œuvres;\n}\n\nconst Recherche = () => {\n  const [isSearching, setIsSearching] = useState(false);\n  const [search, setSearch] = useState('');\n  const tendances = UseTendances();\n  useEffect(() => {\n    document.getElementsByClassName('lateral')[0].classList.add('ouvert');\n  }, []);\n\n  const handleChange = e => {\n    setSearch(e.target.value);\n  };\n\n  const handleSearch = e => {\n    e.preventDefault();\n    setIsSearching(true);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lateral rechercheContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: e => handleSearch(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: search,\n    placeholder: \"Palabras claves...\",\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 57\n    }\n  })), \"BUSCAR\"), !isSearching && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, \"TENDENCIAS\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"tendancesContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, Object.keys(tendances).length === 0 && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 65\n    }\n  }, /*#__PURE__*/React.createElement(Tendance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 70\n    }\n  }), /*#__PURE__*/React.createElement(Tendance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 82\n    }\n  }), /*#__PURE__*/React.createElement(Tendance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 94\n    }\n  }), /*#__PURE__*/React.createElement(Tendance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 106\n    }\n  }), /*#__PURE__*/React.createElement(Tendance, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 118\n    }\n  })), tendances.map(tendance => /*#__PURE__*/React.createElement(Tendance, {\n    key: tendance.id,\n    id: tendance.id,\n    position: tendance.position,\n    titre: tendance.titre,\n    photo: tendance.photo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 59\n    }\n  })))));\n};\n\nexport default Recherche;","map":{"version":3,"sources":["/Users/xavier/Documents/Développement/portarch/src/components/recherche.tsx"],"names":["React","useState","useEffect","Tendance","firebase","UseTendances","œuvres","setœuvres","firestore","collection","orderBy","limit","onSnapshot","snapshot","position","newœuvres","docs","map","doc","id","data","photos","Recherche","isSearching","setIsSearching","search","setSearch","tendances","document","getElementsByClassName","classList","add","handleChange","e","target","value","handleSearch","preventDefault","Object","keys","length","tendance","titre","photo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Tendance from './tendance';\nimport firebase from '../firebase';\n\nfunction UseTendances() {\n    const [œuvres, setœuvres] = useState<any>([]);\n\n    useEffect(() => {\n        firebase.firestore().collection('œuvres').orderBy('note', 'desc').limit(6).onSnapshot((snapshot) => {\n            let position = 1;\n            const newœuvres = snapshot.docs.map((doc) => ({\n                id: doc.id,\n                position: position++,\n                ...doc.data(),\n                photos: [] as any\n            }));\n    \n            setœuvres(newœuvres);\n        });\n    }, []);\n\n    return œuvres;\n}\n\nconst Recherche: React.FC = () => {\n    const [isSearching, setIsSearching] = useState<boolean>(false);\n    const [search, setSearch] = useState<string>('');\n    const tendances = UseTendances();\n\n    useEffect(() => {\n        document.getElementsByClassName('lateral')[0].classList.add('ouvert');\n    }, []);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setSearch(e.target.value);\n    }\n\n    const handleSearch = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        setIsSearching(true);\n    }\n\n    return (\n        <div className=\"lateral rechercheContainer\">\n            <h2>\n                <form onSubmit={(e) => handleSearch(e)}><input type=\"text\" value={search} placeholder=\"Palabras claves...\" onChange={(e) => handleChange(e)} /></form>\n                BUSCAR\n            </h2>\n            {!isSearching &&\n                <div>\n                    <h3>TENDENCIAS</h3>\n                    <div className=\"tendancesContainer\">\n                        {Object.keys(tendances).length === 0 && <div><Tendance /><Tendance /><Tendance /><Tendance /><Tendance /></div>}\n                        {tendances.map((tendance: any) => <Tendance \n                                                            key={tendance.id} \n                                                            id={tendance.id}\n                                                            position={tendance.position} \n                                                            titre={tendance.titre} \n                                                            photo={tendance.photo} \n                                                        />)}\n                    </div>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default Recherche;"]},"metadata":{},"sourceType":"module"}