{"ast":null,"code":"var _jsxFileName = \"/Users/xavier/Documents/De\\u0301veloppement/portarch/src/components/album.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport './css/album.css';\nimport firebase from '../firebase';\n\nconst Album = ({\n  enablePhotos,\n  œuvreID\n}) => {\n  function usePhotos() {\n    const [photos, setPhotos] = useState([]);\n    useEffect(() => {\n      if (enablePhotos) {\n        firebase.firestore().collection('photos').where('œuvre', '==', œuvreID).onSnapshot(snapshot => {\n          const newPhotos = snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()\n          }));\n          setPhotos(newPhotos);\n        });\n      } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    }, [enablePhotos]);\n    return photos;\n  }\n\n  const photos = usePhotos();\n  const n = 6 - photos.length;\n  const manquants = [...Array(n)].map((e, i) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"photoContainer\",\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 51\n    }\n  }));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"albumContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, photos.map(photo => /*#__PURE__*/React.createElement(\"div\", {\n    key: photo.id,\n    className: \"photoContainer\",\n    style: {\n      backgroundImage: `url(${photo.url})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  })), manquants);\n};\n\nexport default Album;","map":{"version":3,"sources":["/Users/xavier/Documents/Développement/portarch/src/components/album.tsx"],"names":["React","useState","useEffect","firebase","Album","enablePhotos","œuvreID","usePhotos","photos","setPhotos","firestore","collection","where","onSnapshot","snapshot","newPhotos","docs","map","doc","id","data","n","length","manquants","Array","e","i","photo","backgroundImage","url"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,iBAAP;AACA,OAAOC,QAAP,MAAqB,aAArB;;AAOA,MAAMC,KAAsB,GAAG,CAAC;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA;AAAhB,CAAD,KAA+B;AAE1D,WAASC,SAAT,GAAqB;AACjB,UAAM,CAACC,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAM,EAAN,CAApC;AAEAC,IAAAA,SAAS,CAAC,MAAM;AACZ,UAAGG,YAAH,EAAiB;AACbF,QAAAA,QAAQ,CAACO,SAAT,GAAqBC,UAArB,CAAgC,QAAhC,EAA0CC,KAA1C,CAAgD,OAAhD,EAAyD,IAAzD,EAA+DN,OAA/D,EAAwEO,UAAxE,CAAoFC,QAAD,IAAc;AAC7F,gBAAMC,SAAS,GAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAmBC,GAAD,KAAU;AAC1CC,YAAAA,EAAE,EAAED,GAAG,CAACC,EADkC;AAE1C,eAAGD,GAAG,CAACE,IAAJ;AAFuC,WAAV,CAAlB,CAAlB;AAKAX,UAAAA,SAAS,CAACM,SAAD,CAAT;AACH,SAPD;AAQH,OAVW,CAWhB;;AACC,KAZQ,EAYN,CAACV,YAAD,CAZM,CAAT;AAcA,WAAOG,MAAP;AACH;;AAED,QAAMA,MAAM,GAAGD,SAAS,EAAxB;AAEA,QAAMc,CAAC,GAAG,IAAIb,MAAM,CAACc,MAArB;AAEA,QAAMC,SAAS,GAAG,CAAC,GAAGC,KAAK,CAACH,CAAD,CAAT,EAAcJ,GAAd,CAAkB,CAACQ,CAAD,EAAIC,CAAJ,kBAAU;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,GAAG,EAAEA,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA5B,CAAlB;AAEA,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKlB,MAAM,CAACS,GAAP,CAAYU,KAAD,iBACR;AAAK,IAAA,GAAG,EAAEA,KAAK,CAACR,EAAhB;AAAoB,IAAA,SAAS,EAAC,gBAA9B;AAA+C,IAAA,KAAK,EAAE;AAACS,MAAAA,eAAe,EAAG,OAAMD,KAAK,CAACE,GAAI;AAAnC,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADL,EAIKN,SAJL,CADJ;AAQH,CApCD;;AAsCA,eAAenB,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './css/album.css';\nimport firebase from '../firebase';\n\ntype Props = {\n    enablePhotos: boolean,\n    œuvreID: string\n}\n\nconst Album: React.FC<Props> = ({ enablePhotos, œuvreID }) => {\n\n    function usePhotos() {\n        const [photos, setPhotos] = useState<any>([]);\n    \n        useEffect(() => {\n            if(enablePhotos) {\n                firebase.firestore().collection('photos').where('œuvre', '==', œuvreID).onSnapshot((snapshot) => {\n                    const newPhotos = snapshot.docs.map((doc) => ({\n                        id: doc.id,\n                        ...doc.data()\n                    }));\n        \n                    setPhotos(newPhotos);\n                });\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [enablePhotos]);\n    \n        return photos;\n    }\n\n    const photos = usePhotos();\n\n    const n = 6 - photos.length;\n\n    const manquants = [...Array(n)].map((e, i) => <div className=\"photoContainer\" key={i}></div>);\n\n    return (\n        <div className=\"albumContainer\">\n            {photos.map((photo: any) => \n                <div key={photo.id} className=\"photoContainer\" style={{backgroundImage: `url(${photo.url})`}}></div>\n            )}\n            {manquants}\n        </div>\n    );\n}\n\nexport default Album;"]},"metadata":{},"sourceType":"module"}