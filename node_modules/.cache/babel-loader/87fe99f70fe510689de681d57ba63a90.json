{"ast":null,"code":"var _jsxFileName = \"/Users/xavier/Documents/De\\u0301veloppement/portarch/src/components/album.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport './css/album.css';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nconst Album = ({\n  enablePhotos,\n  œuvreID,\n  portfolio\n}) => {\n  const photos = usePhotos();\n  const [manquants, setManquants] = useState([]);\n\n  function usePhotos() {\n    const [photos, setPhotos] = useState([]);\n    useEffect(() => {\n      if (enablePhotos) {\n        firebase.firestore().collection('photos').where('œuvre', '==', œuvreID).onSnapshot(snapshot => {\n          const newPhotos = snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()\n          }));\n          setManquants([...Array(6 - newPhotos.length)].map((e, i) => /*#__PURE__*/React.createElement(\"div\", {\n            className: \"photoContainer\",\n            key: i,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 29,\n              columnNumber: 89\n            }\n          })));\n          setPhotos(newPhotos);\n        });\n      } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    }, [enablePhotos]);\n    return photos;\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"albumContainer\",\n    style: {\n      height: portfolio ? '100%' : '66%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, photos.map(photo => /*#__PURE__*/React.createElement(\"div\", {\n    key: photo.id,\n    className: \"photoContainer\",\n    style: {\n      backgroundImage: `url(${photo.url})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  })), manquants);\n};\n\nexport default Album;","map":{"version":3,"sources":["/Users/xavier/Documents/Développement/portarch/src/components/album.tsx"],"names":["React","useState","useEffect","firebase","Album","enablePhotos","œuvreID","portfolio","photos","usePhotos","manquants","setManquants","setPhotos","firestore","collection","where","onSnapshot","snapshot","newPhotos","docs","map","doc","id","data","Array","length","e","i","height","photo","backgroundImage","url"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,iBAAP;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,eAAP;AACA,OAAO,oBAAP;;AAQA,MAAMC,KAAsB,GAAG,CAAC;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA,OAAhB;AAAyBC,EAAAA;AAAzB,CAAD,KAA0C;AAErE,QAAMC,MAAM,GAAGC,SAAS,EAAxB;AAEA,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BV,QAAQ,CAAQ,EAAR,CAA1C;;AAEA,WAASQ,SAAT,GAAqB;AACjB,UAAM,CAACD,MAAD,EAASI,SAAT,IAAsBX,QAAQ,CAAM,EAAN,CAApC;AAEAC,IAAAA,SAAS,CAAC,MAAM;AACZ,UAAGG,YAAH,EAAiB;AACbF,QAAAA,QAAQ,CAACU,SAAT,GAAqBC,UAArB,CAAgC,QAAhC,EAA0CC,KAA1C,CAAgD,OAAhD,EAAyD,IAAzD,EAA+DT,OAA/D,EAAwEU,UAAxE,CAAoFC,QAAD,IAAc;AAC7F,gBAAMC,SAAS,GAAGD,QAAQ,CAACE,IAAT,CAAcC,GAAd,CAAmBC,GAAD,KAAU;AAC1CC,YAAAA,EAAE,EAAED,GAAG,CAACC,EADkC;AAE1C,eAAGD,GAAG,CAACE,IAAJ;AAFuC,WAAV,CAAlB,CAAlB;AAIAZ,UAAAA,YAAY,CAAC,CAAC,GAAGa,KAAK,CAAC,IAAEN,SAAS,CAACO,MAAb,CAAT,EAA+BL,GAA/B,CAAmC,CAACM,CAAD,EAASC,CAAT,kBAAoB;AAAK,YAAA,SAAS,EAAC,gBAAf;AAAgC,YAAA,GAAG,EAAEA,CAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAvD,CAAD,CAAZ;AACAf,UAAAA,SAAS,CAACM,SAAD,CAAT;AACH,SAPD;AAQH,OAVW,CAWhB;;AACC,KAZQ,EAYN,CAACb,YAAD,CAZM,CAAT;AAcA,WAAOG,MAAP;AACH;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAgC,IAAA,KAAK,EAAE;AAACoB,MAAAA,MAAM,EAAErB,SAAS,GAAG,MAAH,GAAY;AAA9B,KAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKC,MAAM,CAACY,GAAP,CAAYS,KAAD,iBACR;AAAK,IAAA,GAAG,EAAEA,KAAK,CAACP,EAAhB;AAAoB,IAAA,SAAS,EAAC,gBAA9B;AAA+C,IAAA,KAAK,EAAE;AAACQ,MAAAA,eAAe,EAAG,OAAMD,KAAK,CAACE,GAAI;AAAnC,KAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADH,CADL,EAIKrB,SAJL,CADJ;AAQH,CAlCD;;AAoCA,eAAeN,KAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './css/album.css';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/firestore';\n\ntype Props = {\n    enablePhotos: boolean,\n    œuvreID: string,\n    portfolio?: boolean\n}\n\nconst Album: React.FC<Props> = ({ enablePhotos, œuvreID, portfolio }) => {\n\n    const photos = usePhotos();\n\n    const [manquants, setManquants] = useState<any[]>([]);\n\n    function usePhotos() {\n        const [photos, setPhotos] = useState<any>([]);\n    \n        useEffect(() => {\n            if(enablePhotos) {\n                firebase.firestore().collection('photos').where('œuvre', '==', œuvreID).onSnapshot((snapshot) => {\n                    const newPhotos = snapshot.docs.map((doc) => ({\n                        id: doc.id,\n                        ...doc.data()\n                    }));\n                    setManquants([...Array(6-newPhotos.length)].map((e: any, i: any) => <div className=\"photoContainer\" key={i}></div>));\n                    setPhotos(newPhotos);\n                });\n            }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [enablePhotos]);\n    \n        return photos;\n    }\n\n    return (\n        <div className=\"albumContainer\" style={{height: portfolio ? '100%' : '66%'}}>\n            {photos.map((photo: any) => \n                <div key={photo.id} className=\"photoContainer\" style={{backgroundImage: `url(${photo.url})`}}></div>\n            )}\n            {manquants}\n        </div>\n    );\n}\n\nexport default Album;"]},"metadata":{},"sourceType":"module"}