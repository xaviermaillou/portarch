{"ast":null,"code":"var _jsxFileName = \"/Users/xavier/Documents/De\\u0301veloppement/portarch/src/components/config.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport firebase from '../firebase';\n\nrequire('firebase/auth');\n\nconst Config = ({\n  username,\n  setUsername\n}) => {\n  const [name, setName] = useState('');\n  const [usernameDisplayed, setUsernameDisplayed] = useState('');\n  const [editName, setEditName] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n  useEffect(() => {\n    setUsernameDisplayed(username);\n  }, [username]);\n\n  const signOut = () => {\n    firebase.auth().signOut();\n    window.location.reload(true);\n  };\n\n  const handleChangeName = e => {\n    setName(e.target.value);\n  };\n\n  const handleSubmitName = e => {\n    e.preventDefault();\n\n    if (name.length < 1) {\n      return;\n    }\n\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        user.updateProfile({\n          displayName: name\n        });\n        setEditName(false);\n        setUsername(name);\n      } else {\n        return;\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"configContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, (username === null || editName === true) && /*#__PURE__*/React.createElement(\"form\", {\n    className: \"signupForm\",\n    onSubmit: e => {\n      handleSubmitName(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, \"Eleg\\xED un nombre \", errorMsg), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"username\",\n    type: \"text\",\n    value: name,\n    onChange: e => {\n      handleChangeName(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, usernameDisplayed), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => setEditName(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"Editar nombre\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 77\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: signOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Desconectarse\"));\n};\n\nexport default Config;","map":{"version":3,"sources":["/Users/xavier/Documents/Développement/portarch/src/components/config.tsx"],"names":["React","useState","useEffect","firebase","require","Config","username","setUsername","name","setName","usernameDisplayed","setUsernameDisplayed","editName","setEditName","errorMsg","setErrorMsg","signOut","auth","window","location","reload","handleChangeName","e","target","value","handleSubmitName","preventDefault","length","onAuthStateChanged","user","updateProfile","displayName"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport firebase from '../firebase';\nrequire('firebase/auth');\n\ntype Props = {\n    username: string|null|undefined,\n    setUsername: any\n}\n\nconst Config: React.FC<Props> = ({ username, setUsername }) => {\n    const [name, setName] = useState<string>('');\n    const [usernameDisplayed, setUsernameDisplayed] = useState<string|null|undefined>('');\n    const [editName, setEditName] = useState<boolean>(false);\n    const [errorMsg, setErrorMsg] = useState<string>('');\n\n    useEffect(() => {\n        setUsernameDisplayed(username);\n    }, [username]);\n\n    const signOut = () => {\n        firebase.auth().signOut();\n        window.location.reload(true);\n    }\n\n    const handleChangeName = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setName(e.target.value);\n    }\n\n    const handleSubmitName = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        if(name.length < 1) {\n\n            return;\n        }\n        firebase.auth().onAuthStateChanged(function(user) {\n            if (user) {\n                user.updateProfile({\n                    displayName: name,\n                });\n                setEditName(false);\n                setUsername(name);\n            } else {\n              return;\n            }\n        });\n    }\n\n    return (\n        <div className=\"configContainer\">\n            {(username === null || editName === true) &&\n                <form className=\"signupForm\" onSubmit={(e) => {handleSubmitName(e)}}>\n                    <label>Elegí un nombre {errorMsg}</label>\n                    <input name=\"username\" type=\"text\" value={name} onChange={(e) => {handleChangeName(e)}}/>\n                    <input type=\"submit\" />\n                </form>\n            }\n            <h3>{usernameDisplayed}</h3>\n            <button onClick={() => setEditName(true)}>Editar nombre</button><br />\n            <button onClick={signOut}>Desconectarse</button>\n        </div>\n    );\n}\n\nexport default Config;"]},"metadata":{},"sourceType":"module"}