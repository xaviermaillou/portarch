{"ast":null,"code":"var _jsxFileName = \"/Users/xavier/Documents/De\\u0301veloppement/portarch/src/components/auteur.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport './css/auteur.css';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport Panneau from './panneau';\n\nconst Auteur = ({\n  enableAuteur,\n  auteurID = '0',\n  id = '0',\n  refresh,\n  setRefresh,\n  auth,\n  mesFavoris\n}) => {\n  useEffect(() => {\n    if (enableAuteur) {\n      var _document$getElementB;\n\n      (_document$getElementB = document.getElementById(\"auteurContainer\" + id)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.classList.add('ouvert');\n    }\n  }, [enableAuteur, id]);\n\n  function UseAuteur() {\n    const [auteurObject, setAuteurObject] = useState([]);\n    useEffect(() => {\n      if (enableAuteur) {\n        firebase.firestore().collection('config').doc(auteurID).onSnapshot(snapshot => {\n          setAuteurObject(snapshot.data());\n        });\n      } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    }, [enableAuteur, auteurID]);\n    return auteurObject;\n  }\n\n  function UseSesœuvres() {\n    const [sesœuvres, setSesœuvres] = useState([]);\n    useEffect(() => {\n      if (enableAuteur) {\n        firebase.firestore().collection('œuvres').where('auteurID', '==', auteurID).onSnapshot(snapshot => {\n          const newSesœuvres = snapshot.docs.map(doc => ({\n            id: doc.id,\n            ...doc.data()\n          }));\n          setSesœuvres(newSesœuvres);\n        });\n      } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    }, [enableAuteur, auteurID]);\n    return sesœuvres;\n  }\n\n  const sesœuvres = UseSesœuvres();\n  const auteurObject = UseAuteur();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auteurContainer\",\n    id: \"auteurContainer\" + id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infoAuteur\",\n    style: {\n      height: window.innerWidth / 3.1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auteurPhoto\",\n    style: {\n      backgroundImage: `url(${auteurObject === null || auteurObject === void 0 ? void 0 : auteurObject.photoProfil})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dataAuteur\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }, auteurObject === null || auteurObject === void 0 ? void 0 : auteurObject.username), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"uni\",\n    className: \"icone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }), \" \", auteurObject === null || auteurObject === void 0 ? void 0 : auteurObject.uni, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 79\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"pin\",\n    className: \"icone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  }), \" \", auteurObject === null || auteurObject === void 0 ? void 0 : auteurObject.pays)), enableAuteur && sesœuvres.map(œuvre => /*#__PURE__*/React.createElement(Panneau, {\n    key: œuvre.id,\n    refresh: refresh,\n    setRefresh: setRefresh,\n    auth: auth,\n    id: œuvre.id,\n    titre: œuvre.titre,\n    auteurID: œuvre.auteurID,\n    photo: œuvre.photo,\n    description: œuvre.description,\n    mesFavoris: mesFavoris,\n    portfolio: true,\n    originalID: id === null || id === void 0 ? void 0 : id.slice(-10),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 60\n    }\n  })));\n};\n\nexport default Auteur;","map":{"version":3,"sources":["/Users/xavier/Documents/Développement/portarch/src/components/auteur.tsx"],"names":["React","useState","useEffect","firebase","Panneau","Auteur","enableAuteur","auteurID","id","refresh","setRefresh","auth","mesFavoris","document","getElementById","classList","add","UseAuteur","auteurObject","setAuteurObject","firestore","collection","doc","onSnapshot","snapshot","data","UseSesœuvres","sesœuvres","setSesœuvres","where","newSesœuvres","docs","map","height","window","innerWidth","backgroundImage","photoProfil","username","uni","pays","œuvre","titre","photo","description","slice"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,kBAAP;AACA,OAAOC,QAAP,MAAqB,cAArB;AACA,OAAO,oBAAP;AACA,OAAOC,OAAP,MAAoB,WAApB;;AAYA,MAAMC,MAAuB,GAAG,CAAC;AAAEC,EAAAA,YAAF;AAAgBC,EAAAA,QAAQ,GAAG,GAA3B;AAAgCC,EAAAA,EAAE,GAAG,GAArC;AAA0CC,EAAAA,OAA1C;AAAmDC,EAAAA,UAAnD;AAA+DC,EAAAA,IAA/D;AAAqEC,EAAAA;AAArE,CAAD,KAAuF;AAEnHV,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAGI,YAAH,EAAiB;AAAA;;AACb,+BAAAO,QAAQ,CAACC,cAAT,CAAwB,oBAAoBN,EAA5C,iFAAiDO,SAAjD,CAA2DC,GAA3D,CAA+D,QAA/D;AACH;AACJ,GAJQ,EAIN,CAACV,YAAD,EAAeE,EAAf,CAJM,CAAT;;AAMA,WAASS,SAAT,GAAqB;AACjB,UAAM,CAACC,YAAD,EAAeC,eAAf,IAAkClB,QAAQ,CAAM,EAAN,CAAhD;AAEAC,IAAAA,SAAS,CAAC,MAAM;AACZ,UAAGI,YAAH,EAAiB;AACbH,QAAAA,QAAQ,CAACiB,SAAT,GAAqBC,UAArB,CAAgC,QAAhC,EAA0CC,GAA1C,CAA8Cf,QAA9C,EAAwDgB,UAAxD,CAAoEC,QAAD,IAAc;AAC7EL,UAAAA,eAAe,CAACK,QAAQ,CAACC,IAAT,EAAD,CAAf;AACH,SAFD;AAGH,OALW,CAOhB;;AACC,KARQ,EAQN,CAACnB,YAAD,EAAeC,QAAf,CARM,CAAT;AAUA,WAAOW,YAAP;AACH;;AAED,WAASQ,YAAT,GAAwB;AACpB,UAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4B3B,QAAQ,CAAM,EAAN,CAA1C;AAEAC,IAAAA,SAAS,CAAC,MAAM;AACZ,UAAGI,YAAH,EAAiB;AACbH,QAAAA,QAAQ,CAACiB,SAAT,GAAqBC,UAArB,CAAgC,QAAhC,EAA0CQ,KAA1C,CAAgD,UAAhD,EAA4D,IAA5D,EAAkEtB,QAAlE,EAA4EgB,UAA5E,CAAwFC,QAAD,IAAc;AACjG,gBAAMM,YAAY,GAAGN,QAAQ,CAACO,IAAT,CAAcC,GAAd,CAAmBV,GAAD,KAAU;AAC7Cd,YAAAA,EAAE,EAAEc,GAAG,CAACd,EADqC;AAE7C,eAAGc,GAAG,CAACG,IAAJ;AAF0C,WAAV,CAAlB,CAArB;AAKAG,UAAAA,YAAY,CAACE,YAAD,CAAZ;AACH,SAPD;AAQH,OAVW,CAWhB;;AACC,KAZQ,EAYN,CAACxB,YAAD,EAAeC,QAAf,CAZM,CAAT;AAcA,WAAOoB,SAAP;AACH;;AAED,QAAMA,SAAS,GAAGD,YAAY,EAA9B;AACA,QAAMR,YAAY,GAAGD,SAAS,EAA9B;AAEA,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAiC,IAAA,EAAE,EAAE,oBAAoBT,EAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAA4B,IAAA,KAAK,EAAE;AAACyB,MAAAA,MAAM,EAAEC,MAAM,CAACC,UAAP,GAAoB;AAA7B,KAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAA6B,IAAA,KAAK,EAAE;AAACC,MAAAA,eAAe,EAAG,OAAMlB,YAAP,aAAOA,YAAP,uBAAOA,YAAY,CAAEmB,WAAY;AAAnD,KAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKnB,YAAL,aAAKA,YAAL,uBAAKA,YAAY,CAAEoB,QAAnB,CADJ,eAEI;AAAK,IAAA,EAAE,EAAC,KAAR;AAAc,IAAA,SAAS,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,OAE4CpB,YAF5C,aAE4CA,YAF5C,uBAE4CA,YAAY,CAAEqB,GAF1D,eAE8D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAF9D,eAGI;AAAK,IAAA,EAAE,EAAC,KAAR;AAAc,IAAA,SAAS,EAAC,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,OAG4CrB,YAH5C,aAG4CA,YAH5C,uBAG4CA,YAAY,CAAEsB,IAH1D,CAFJ,CADJ,EASKlC,YAAY,IAAIqB,SAAS,CAACK,GAAV,CAAeS,KAAD,iBAAgB,oBAAC,OAAD;AACK,IAAA,GAAG,EAAEA,KAAK,CAACjC,EADhB;AAEK,IAAA,OAAO,EAAEC,OAFd;AAGK,IAAA,UAAU,EAAEC,UAHjB;AAIK,IAAA,IAAI,EAAEC,IAJX;AAKK,IAAA,EAAE,EAAE8B,KAAK,CAACjC,EALf;AAMK,IAAA,KAAK,EAAEiC,KAAK,CAACC,KANlB;AAOK,IAAA,QAAQ,EAAED,KAAK,CAAClC,QAPrB;AAQK,IAAA,KAAK,EAAEkC,KAAK,CAACE,KARlB;AASK,IAAA,WAAW,EAAEF,KAAK,CAACG,WATxB;AAUK,IAAA,UAAU,EAAEhC,UAVjB;AAWK,IAAA,SAAS,EAAE,IAXhB;AAYK,IAAA,UAAU,EAAEJ,EAAF,aAAEA,EAAF,uBAAEA,EAAE,CAAEqC,KAAJ,CAAU,CAAC,EAAX,CAZjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAA9B,CATrB,CADJ;AA0BH,CAzED;;AA2EA,eAAexC,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './css/auteur.css';\nimport firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport Panneau from './panneau';\n\ntype Props = {\n    enableAuteur: boolean,\n    auteurID?: string,\n    id?: string,\n    refresh: boolean,\n    setRefresh: any,\n    auth: boolean,\n    mesFavoris?: any\n}\n\nconst Auteur: React.FC<Props> = ({ enableAuteur, auteurID = '0', id = '0', refresh, setRefresh, auth, mesFavoris }) => {\n\n    useEffect(() => {\n        if(enableAuteur) {\n            document.getElementById(\"auteurContainer\" + id)?.classList.add('ouvert');\n        }\n    }, [enableAuteur, id]);\n\n    function UseAuteur() {\n        const [auteurObject, setAuteurObject] = useState<any>([]);\n\n        useEffect(() => {\n            if(enableAuteur) {\n                firebase.firestore().collection('config').doc(auteurID).onSnapshot((snapshot) => {\n                    setAuteurObject(snapshot.data());\n                });\n            }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [enableAuteur, auteurID]);\n\n        return auteurObject;\n    }\n    \n    function UseSesœuvres() {\n        const [sesœuvres, setSesœuvres] = useState<any>([]);\n    \n        useEffect(() => {\n            if(enableAuteur) {\n                firebase.firestore().collection('œuvres').where('auteurID', '==', auteurID).onSnapshot((snapshot) => {\n                    const newSesœuvres = snapshot.docs.map((doc) => ({\n                        id: doc.id,\n                        ...doc.data()\n                    }));\n    \n                    setSesœuvres(newSesœuvres);\n                });\n            }         \n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, [enableAuteur, auteurID]);\n    \n        return sesœuvres;\n    }\n\n    const sesœuvres = UseSesœuvres();\n    const auteurObject = UseAuteur();\n\n    return(\n        <div className=\"auteurContainer\" id={\"auteurContainer\" + id}>\n            <div className=\"infoAuteur\" style={{height: window.innerWidth / 3.1}}>\n                <div className=\"auteurPhoto\" style={{backgroundImage: `url(${auteurObject?.photoProfil})`}}></div>\n                <div className=\"dataAuteur\">\n                    <h2>{auteurObject?.username}</h2>\n                    <div id=\"uni\" className=\"icone\"></div> {auteurObject?.uni}<br />\n                    <div id=\"pin\" className=\"icone\"></div> {auteurObject?.pays}\n                </div>\n            </div>\n            {enableAuteur && sesœuvres.map((œuvre: any) => <Panneau \n                                                                key={œuvre.id} \n                                                                refresh={refresh}\n                                                                setRefresh={setRefresh}\n                                                                auth={auth} \n                                                                id={œuvre.id} \n                                                                titre={œuvre.titre} \n                                                                auteurID={œuvre.auteurID} \n                                                                photo={œuvre.photo} \n                                                                description={œuvre.description}\n                                                                mesFavoris={mesFavoris}\n                                                                portfolio={true}\n                                                                originalID={id?.slice(-10)}\n                                                            />)}\n        </div>\n    );\n}\n\nexport default Auteur;"]},"metadata":{},"sourceType":"module"}