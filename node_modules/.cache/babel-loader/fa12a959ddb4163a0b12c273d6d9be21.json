{"ast":null,"code":"var _jsxFileName = \"/Users/xavier/Documents/De\\u0301veloppement/portarch/src/components/cachet.tsx\";\nimport React, { useEffect } from 'react';\nimport './css/cachet.css';\nimport firebase from '../firebase';\n\nconst Cachet = ({\n  refresh,\n  setRefresh,\n  id,\n  titre,\n  auteur,\n  photoAuteur,\n  isFavori\n}) => {\n  var _firebase$auth$curren;\n\n  const userID = (_firebase$auth$curren = firebase.auth().currentUser) === null || _firebase$auth$curren === void 0 ? void 0 : _firebase$auth$curren.uid;\n  useEffect(() => {\n    const star = document.getElementById(id + \"Star\");\n    star.style.opacity = '0.25';\n\n    if (isFavori) {\n      star.style.opacity = '1';\n    }\n  }, [id, isFavori]);\n\n  const addFavorite = () => {\n    if (isFavori) {\n      firebase.firestore().collection('favoris').doc(userID + id).delete();\n      setRefresh(!refresh);\n      console.log('Favori supprimé !');\n      return;\n    } else if (!isFavori) {\n      firebase.firestore().collection('favoris').doc(userID + id).set({\n        favori: id,\n        utilisateur: userID\n      });\n      setRefresh(!refresh);\n      console.log('Favori ajouté !');\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cachetContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"auteur\",\n    style: {\n      backgroundImage: `url(${photoAuteur})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, titre), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, auteur)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"star\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: id + \"Star\",\n    className: \"starIMG\",\n    onClick: addFavorite,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 35\n    }\n  })));\n};\n\nexport default Cachet;","map":{"version":3,"sources":["/Users/xavier/Documents/Développement/portarch/src/components/cachet.tsx"],"names":["React","useEffect","firebase","Cachet","refresh","setRefresh","id","titre","auteur","photoAuteur","isFavori","userID","auth","currentUser","uid","star","document","getElementById","style","opacity","addFavorite","firestore","collection","doc","delete","console","log","set","favori","utilisateur","backgroundImage"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,kBAAP;AACA,OAAOC,QAAP,MAAqB,aAArB;;AAYA,MAAMC,MAAuB,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA,UAAX;AAAuBC,EAAAA,EAAvB;AAA2BC,EAAAA,KAA3B;AAAkCC,EAAAA,MAAlC;AAA0CC,EAAAA,WAA1C;AAAuDC,EAAAA;AAAvD,CAAD,KAAuE;AAAA;;AAEnG,QAAMC,MAAM,4BAAGT,QAAQ,CAACU,IAAT,GAAgBC,WAAnB,0DAAG,sBAA6BC,GAA5C;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMc,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwBX,EAAE,GAAG,MAA7B,CAAb;AACAS,IAAAA,IAAI,CAACG,KAAL,CAAWC,OAAX,GAAqB,MAArB;;AACA,QAAGT,QAAH,EAAa;AACTK,MAAAA,IAAI,CAACG,KAAL,CAAWC,OAAX,GAAqB,GAArB;AACH;AACJ,GANQ,EAMN,CAACb,EAAD,EAAKI,QAAL,CANM,CAAT;;AAQA,QAAMU,WAAW,GAAG,MAAM;AACtB,QAAGV,QAAH,EAAa;AACTR,MAAAA,QAAQ,CAACmB,SAAT,GAAqBC,UAArB,CAAgC,SAAhC,EAA2CC,GAA3C,CAA+CZ,MAAM,GAACL,EAAtD,EAA0DkB,MAA1D;AACAnB,MAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACAqB,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA;AACH,KALD,MAKO,IAAG,CAAChB,QAAJ,EAAc;AACjBR,MAAAA,QAAQ,CAACmB,SAAT,GAAqBC,UAArB,CAAgC,SAAhC,EAA2CC,GAA3C,CAA+CZ,MAAM,GAACL,EAAtD,EAA0DqB,GAA1D,CAA8D;AAC1DC,QAAAA,MAAM,EAAEtB,EADkD;AAE1DuB,QAAAA,WAAW,EAAElB;AAF6C,OAA9D;AAIAN,MAAAA,UAAU,CAAC,CAACD,OAAF,CAAV;AACAqB,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACH;AACJ,GAdD;;AAgBA,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,QAAf;AAAwB,IAAA,KAAK,EAAE;AAACI,MAAAA,eAAe,EAAG,OAAMrB,WAAY;AAArC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,KAAL,CADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOC,MAAP,CAFJ,CAFJ,eAMI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAsB;AAAK,IAAA,EAAE,EAAEF,EAAE,GAAG,MAAd;AAAsB,IAAA,SAAS,EAAC,SAAhC;AAA0C,IAAA,OAAO,EAAEc,WAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAtB,CANJ,CADJ;AAUH,CAtCD;;AAwCA,eAAejB,MAAf","sourcesContent":["import React, { useEffect } from 'react';\nimport './css/cachet.css';\nimport firebase from '../firebase';\n\ntype Props = {\n    refresh: boolean,\n    setRefresh: any,\n    id: string,\n    titre: string,\n    auteur: string,\n    photoAuteur: string,\n    isFavori: boolean\n}\n\nconst Cachet: React.FC<Props> = ({ refresh, setRefresh, id, titre, auteur, photoAuteur, isFavori }) => {\n\n    const userID = firebase.auth().currentUser?.uid;\n\n    useEffect(() => {\n        const star = document.getElementById(id + \"Star\") as HTMLElement;\n        star.style.opacity = '0.25';\n        if(isFavori) {\n            star.style.opacity = '1';\n        } \n    }, [id, isFavori]);\n\n    const addFavorite = () => {\n        if(isFavori) {\n            firebase.firestore().collection('favoris').doc(userID+id).delete();\n            setRefresh(!refresh);\n            console.log('Favori supprimé !');\n            return;\n        } else if(!isFavori) {\n            firebase.firestore().collection('favoris').doc(userID+id).set({\n                favori: id,\n                utilisateur: userID\n            });\n            setRefresh(!refresh);\n            console.log('Favori ajouté !');\n        }\n    }\n\n    return (\n        <div className=\"cachetContainer\">\n            <div className=\"auteur\" style={{backgroundImage: `url(${photoAuteur})`}}></div>\n            <div className=\"info\">\n                <h3>{titre}</h3>\n                <span>{auteur}</span>\n            </div>\n            <div className=\"star\"><div id={id + \"Star\"} className=\"starIMG\" onClick={addFavorite}></div></div>\n        </div>\n    );\n}\n\nexport default Cachet;"]},"metadata":{},"sourceType":"module"}