{"ast":null,"code":"var _jsxFileName = \"/Users/xavier/Documents/De\\u0301veloppement/portarch/src/components/projet.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport firebase from '../firebase';\n\nconst Projet = ({\n  setRefresh,\n  id,\n  titre,\n  photo\n}) => {\n  const [editTitre, setEditTitre] = useState(false);\n  const [editedTitre, setEditedTitre] = useState();\n  const [confirmDelete, setConfirmDelete] = useState(false);\n  useEffect(() => {\n    var _document$getElementB;\n\n    (_document$getElementB = document.getElementById('mon' + id)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.classList.add('ouvert');\n    setEditedTitre(titre);\n  }, [id, titre]);\n\n  const handleChange = e => {\n    setEditedTitre(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    firebase.firestore().collection('œuvres').doc(id).update({\n      titre: editedTitre\n    });\n    setEditTitre(false);\n    setRefresh(true);\n  };\n\n  const handleDelete = () => {\n    firebase.firestore().collection('œuvres').doc(id).delete();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"projet\",\n    id: 'mon' + id,\n    style: {\n      backgroundImage: `url(${photo})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, editTitre === false && /*#__PURE__*/React.createElement(\"h4\", {\n    onClick: () => setEditTitre(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 41\n    }\n  }, titre), editTitre === true && /*#__PURE__*/React.createElement(\"form\", {\n    className: \"signupForm\",\n    onSubmit: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    autoFocus: true,\n    type: \"text\",\n    value: editedTitre,\n    onChange: e => handleChange(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 25\n    }\n  })), confirmDelete === false && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"delete\",\n    onClick: () => setConfirmDelete(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 45\n    }\n  }, \"Eliminar\"), confirmDelete === true && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"confirmDelete\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 44\n    }\n  }, \"Queres eliminar este proyecto?\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 105\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 111\n    }\n  }, \"SI\"), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => setConfirmDelete(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 149\n    }\n  }, \"NO\"))));\n};\n\nexport default Projet;","map":{"version":3,"sources":["/Users/xavier/Documents/Développement/portarch/src/components/projet.tsx"],"names":["React","useState","useEffect","firebase","Projet","setRefresh","id","titre","photo","editTitre","setEditTitre","editedTitre","setEditedTitre","confirmDelete","setConfirmDelete","document","getElementById","classList","add","handleChange","e","target","value","handleSubmit","preventDefault","firestore","collection","doc","update","handleDelete","delete","backgroundImage"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport firebase from '../firebase';\n\ntype Props = {\n    setRefresh: any,\n    id: string,\n    titre?: string,\n    photo?: string\n}\n\nconst Projet: React.FC<Props> = ({ setRefresh, id, titre, photo }) => {\n    const [editTitre, setEditTitre] = useState<boolean>(false);\n    const [editedTitre, setEditedTitre] = useState<string>();\n    const [confirmDelete, setConfirmDelete] = useState<boolean>(false);\n\n    useEffect(() => {\n        document.getElementById('mon' + id)?.classList.add('ouvert');\n        setEditedTitre(titre);\n    }, [id, titre]);\n\n    const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setEditedTitre(e.target.value);\n    }\n\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n        e.preventDefault();\n        firebase.firestore().collection('œuvres').doc(id).update({\n            titre: editedTitre\n        });\n        setEditTitre(false);\n        setRefresh(true);\n    }\n\n    const handleDelete = () => {\n        firebase.firestore().collection('œuvres').doc(id).delete();\n    }\n\n    return(\n        <div className=\"projet\" id={'mon' + id} style={{backgroundImage: `url(${photo})`}}>\n            <div className=\"edit\">\n                {editTitre === false && <h4 onClick={() => setEditTitre(true)}>{titre}</h4>}\n                {editTitre === true && \n                    <form className=\"signupForm\" onSubmit={(e) => handleSubmit(e)}>\n                        <input autoFocus type=\"text\" value={editedTitre} onChange={(e) => handleChange(e)} />\n                    </form>\n                }\n                {confirmDelete === false && <div className=\"delete\" onClick={() => setConfirmDelete(true)}>Eliminar</div>}\n                {confirmDelete === true && <div className=\"confirmDelete\">Queres eliminar este proyecto?<br /><span onClick={handleDelete}>SI</span><span onClick={() => setConfirmDelete(false)}>NO</span></div>}\n            </div>\n        </div>\n    );\n}\n\nexport default Projet;"]},"metadata":{},"sourceType":"module"}