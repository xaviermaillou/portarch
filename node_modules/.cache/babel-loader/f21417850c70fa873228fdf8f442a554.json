{"ast":null,"code":"var _jsxFileName = \"/Users/xavier/Documents/De\\u0301veloppement/portarch/src/components/panneau.tsx\";\nimport React, { useState, useEffect } from 'react';\nimport './css/panneau.css';\nimport Cachet from './cachet';\nimport Album from './album';\nimport Resume from './resume';\n\nconst Panneau = ({\n  refresh,\n  setRefresh,\n  auth,\n  id,\n  titre,\n  auteurID,\n  photo,\n  description,\n  mesFavoris,\n  portfolio = false,\n  originalID,\n  setEnableAuteur,\n  setCurrentAuteur,\n  setCurrentŒuvre\n}) => {\n  const [height] = useState(window.screen.width <= 600 ? window.screen.width : window.screen.height);\n  const [enableSwipeListener, setEnableSwipeListener] = useState(false);\n  const [enablePhotos, setEnablePhotos] = useState(false);\n  const [isFavori, setIsFavori] = useState(false);\n  useEffect(() => {\n    var _document$getElementB2;\n\n    if (!portfolio) {\n      document.getElementsByClassName('container')[0].classList.remove('cache');\n    }\n\n    if (portfolio) {\n      var _document$getElementB;\n\n      (_document$getElementB = document.getElementById(id + 'portfolio' + originalID)) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.classList.remove('cache');\n    }\n\n    if (!((_document$getElementB2 = document.getElementById(portfolio ? id + 'portfolio' + originalID : id)) === null || _document$getElementB2 === void 0 ? void 0 : _document$getElementB2.classList.contains('cache'))) {\n      setEnableSwipeListener(true);\n    }\n  }, [id, portfolio, originalID]);\n  useEffect(() => {\n    setIsFavori(false);\n    mesFavoris.forEach(favori => {\n      if (favori.favori === id) {\n        setIsFavori(true);\n      }\n    });\n\n    if (window.screen.width <= 600) {\n      if (portfolio) {\n        setEnablePhotos(true);\n      }\n\n      document.getElementsByClassName('panneauContainer')[0].addEventListener('scroll', function () {\n        var _document$getElementB3;\n\n        const scrollPosition = (_document$getElementB3 = document.getElementById(id)) === null || _document$getElementB3 === void 0 ? void 0 : _document$getElementB3.getBoundingClientRect().top;\n\n        if (scrollPosition >= 0 && scrollPosition <= 300) {\n          var _document$getElementB4;\n\n          (_document$getElementB4 = document.getElementById(id)) === null || _document$getElementB4 === void 0 ? void 0 : _document$getElementB4.classList.remove('cache');\n          setEnableSwipeListener(true);\n        } else {\n          var _document$getElementB5;\n\n          (_document$getElementB5 = document.getElementById(id)) === null || _document$getElementB5 === void 0 ? void 0 : _document$getElementB5.classList.add('cache');\n          setEnableSwipeListener(false);\n        }\n      });\n\n      if (enableSwipeListener) {\n        var _document$getElementB6;\n\n        (_document$getElementB6 = document.getElementById(portfolio ? id + 'portfolio' + originalID : id)) === null || _document$getElementB6 === void 0 ? void 0 : _document$getElementB6.addEventListener('scroll', function (e) {\n          var _document$getElementB7;\n\n          const swipePositionPhotos = (_document$getElementB7 = document.getElementById(portfolio ? id + \"portfoliodetails\" + originalID : id + \"details\")) === null || _document$getElementB7 === void 0 ? void 0 : _document$getElementB7.getBoundingClientRect().left;\n\n          if (swipePositionPhotos === 0) {\n            setEnablePhotos(true);\n            setEnableAuteur(true);\n            setCurrentAuteur(auteurID);\n            setCurrentŒuvre(id);\n          }\n\n          if (!portfolio) {\n            var _document$getElementB8;\n\n            const swipePositionAuteur = (_document$getElementB8 = document.getElementById(id + \"Auteur\")) === null || _document$getElementB8 === void 0 ? void 0 : _document$getElementB8.getBoundingClientRect().left;\n\n            if (swipePositionAuteur === 0) {\n              setEnableAuteur(true);\n            }\n          }\n        });\n      }\n    }\n  }, [id, enableSwipeListener, height, mesFavoris, portfolio, originalID]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container cache\",\n    id: portfolio ? id + 'portfolio' + originalID : id,\n    style: {\n      flexDirection: portfolio ? 'column' : 'row'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panneauFront\",\n    style: {\n      backgroundImage: `url(${photo})`,\n      height: `${height + 'px'}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Cachet, {\n    refresh: refresh,\n    setRefresh: setRefresh,\n    auth: auth,\n    id: id,\n    titre: titre,\n    isFavori: isFavori,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"panneauBack\",\n    id: portfolio ? id + \"portfoliodetails\" + originalID : id + \"details\",\n    style: {\n      height: portfolio ? `${window.innerWidth * 0.66 + 'px'}` : `${height + 'px'}`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Album, {\n    enablePhotos: enablePhotos,\n    œuvreID: id,\n    portfolio: portfolio,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), !portfolio && /*#__PURE__*/React.createElement(Resume, {\n    description: description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 32\n    }\n  })));\n};\n\nexport default Panneau;","map":{"version":3,"sources":["/Users/xavier/Documents/Développement/portarch/src/components/panneau.tsx"],"names":["React","useState","useEffect","Cachet","Album","Resume","Panneau","refresh","setRefresh","auth","id","titre","auteurID","photo","description","mesFavoris","portfolio","originalID","setEnableAuteur","setCurrentAuteur","setCurrentŒuvre","height","window","screen","width","enableSwipeListener","setEnableSwipeListener","enablePhotos","setEnablePhotos","isFavori","setIsFavori","document","getElementsByClassName","classList","remove","getElementById","contains","forEach","favori","addEventListener","scrollPosition","getBoundingClientRect","top","add","e","swipePositionPhotos","left","swipePositionAuteur","flexDirection","backgroundImage","innerWidth"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './css/panneau.css';\nimport Cachet from './cachet';\nimport Album from './album';\nimport Resume from './resume';\n\ntype Props = {\n    refresh: boolean,\n    setRefresh: any,\n    auth: boolean,\n    id: string,\n    titre: string,\n    auteurID: string,\n    photo: string,\n    description: string,\n    mesFavoris?: any,\n    portfolio?: boolean,\n    originalID?: string,\n    setEnableAuteur?: any,\n    setCurrentAuteur?: any,\n    setCurrentŒuvre?: any\n}\n\nconst Panneau: React.FC<Props> = ({ refresh, setRefresh, auth, id, titre, auteurID, photo, description, mesFavoris, portfolio = false, originalID, setEnableAuteur, setCurrentAuteur, setCurrentŒuvre }) => {\n\n    const [height] = useState<number>(window.screen.width <= 600 ? window.screen.width : window.screen.height);\n    const [enableSwipeListener, setEnableSwipeListener] = useState<boolean>(false);\n    const [enablePhotos, setEnablePhotos] = useState<boolean>(false);\n    const [isFavori, setIsFavori] = useState<boolean>(false);\n\n    useEffect(() => {\n        if(!portfolio) {document.getElementsByClassName('container')[0].classList.remove('cache')}\n        if(portfolio) {document.getElementById(id+'portfolio'+originalID)?.classList.remove('cache')}\n        if(!document.getElementById(portfolio ? id+'portfolio'+originalID : id)?.classList.contains('cache')) {setEnableSwipeListener(true)}\n    }, [id, portfolio, originalID]);\n\n    useEffect(() => {\n        setIsFavori(false);\n        \n        mesFavoris.forEach((favori: any) => {\n            if(favori.favori === id) {\n                setIsFavori(true);\n            }\n        });\n\n        if(window.screen.width <= 600) {\n            if(portfolio) {setEnablePhotos(true)}\n\n            document.getElementsByClassName('panneauContainer')[0].addEventListener('scroll', function() {\n                const scrollPosition = document.getElementById(id)?.getBoundingClientRect().top as Number;\n                if(scrollPosition >= 0 && scrollPosition <= 300) {\n                    document.getElementById(id)?.classList.remove('cache');\n                    setEnableSwipeListener(true);\n                } else {\n                    document.getElementById(id)?.classList.add('cache');\n                    setEnableSwipeListener(false);\n                }\n            });\n\n            if(enableSwipeListener) {\n                document.getElementById(portfolio ? id+'portfolio'+originalID : id)?.addEventListener('scroll', function(e) {\n                    const swipePositionPhotos = document.getElementById(portfolio ? id + \"portfoliodetails\"+originalID : id + \"details\")?.getBoundingClientRect().left as Number;\n                    if(swipePositionPhotos === 0) {\n                        setEnablePhotos(true);\n                        setEnableAuteur(true);\n                        setCurrentAuteur(auteurID);\n                        setCurrentŒuvre(id);\n                    }\n                    if(!portfolio) {\n                        const swipePositionAuteur = document.getElementById(id + \"Auteur\")?.getBoundingClientRect().left as Number;\n                        if(swipePositionAuteur === 0) {\n                            setEnableAuteur(true);\n                        }\n                    }\n                });\n            }\n        }\n    }, [id, enableSwipeListener, height, mesFavoris, portfolio, originalID]);\n\n    return (\n        <div className=\"container cache\" id={portfolio ? id+'portfolio'+originalID : id} style={{flexDirection: portfolio ? 'column' : 'row'}}>\n            <div className=\"panneauFront\" style={{backgroundImage: `url(${photo})`, height: `${height + 'px'}`}}>\n                <Cachet \n                    refresh={refresh} \n                    setRefresh={setRefresh} \n                    auth={auth} \n                    id={id} \n                    titre={titre} \n                    isFavori={isFavori} \n                />\n            </div>\n            <div className=\"panneauBack\" id={portfolio ? id + \"portfoliodetails\"+originalID : id + \"details\"} style={{height: portfolio ? `${window.innerWidth * 0.66 + 'px'}` : `${height + 'px'}`}}>\n                <Album enablePhotos={enablePhotos} œuvreID = {id} portfolio={portfolio} />\n                {!portfolio && <Resume description={description} />}\n            </div>\n            \n            {/* !portfolio &&\n                <div className=\"panneauAuteur\" id={id + \"Auteur\"} style={{height: `${hauteurAuteur}`}}>\n                    <Auteur \n                        enableAuteur={enableAuteur} \n                        auteurID={auteurID} \n                        id={id} \n                        refresh={refresh}\n                        setRefresh={setRefresh}\n                        auth={auth}\n                        mesFavoris={mesFavoris}\n                    />\n                </div>\n            */}\n        </div>\n    );\n}\n\nexport default Panneau;"]},"metadata":{},"sourceType":"module"}